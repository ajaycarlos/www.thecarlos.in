<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ajay Pulikkal | Portfolio</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="portfolio-styles.css">
</head>
<body>

    <div id="portfolio-wrapper">
        <div id="hero-placeholder"></div>
        <div id="projects-placeholder"></div>
        <div id="footer-placeholder"></div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    
    <script src="portfolio-scripts.js"></script>

    <script>
        async function loadPart(id, file) {
            try {
                const res = await fetch(file);
                if (res.ok) {
                    document.getElementById(id).innerHTML = await res.text();
                } else {
                    console.error(`Failed to load ${file}`);
                }
            } catch (e) { console.error('Loading error:', e); }
        }

        // Load all parts, THEN start the animations
        Promise.all([
            loadPart('hero-placeholder', 'portfolio-hero.html'),
            loadPart('projects-placeholder', 'portfolio-projects.html'),
            loadPart('footer-placeholder', 'portfolio-footer.html')
        ]).then(() => {
            // This runs only after all HTML is injected
            console.log("All parts loaded. Starting animations...");
            if (typeof initPortfolio === 'function') {
                initPortfolio();
            }
        });
    </script>
</body>
</html>